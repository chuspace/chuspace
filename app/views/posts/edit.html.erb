<div class='sm:w-2/3 mx-auto w-full chu-editor editable'>
  <%= simple_form_for @post.revisions.new, url: user_blog_post_revisions_path(@post.blog.owner, @post.blog, @post.revisions.current, @post.revisions.new) do |form| %>
    <div class='title' data-text='title'>
      <%= form.input :title, as: :string, label: false, wrapper: false, input_html: { class: 'w-full p-0 m-0 border-0 focus:outline-none focus:shadow-none text-4xl', value: @post.revisions.current&.title, placeholder: 'Title' } %>
    </div>

    <div class='summary' data-text='summary'>
      <%= form.input :summary, as: :text, label: false, wrapper: false, input_html: { rows: 1, class: 'w-full p-0 m-0 border-0 focus:outline-none focus:shadow-none text-xl mt-2', value: @post.revisions.current&.summary, placeholder: 'Type summary' } %>
    </div>

    <chu-editor
      class='block body mt-8'
      spellcheck="false"
      data-text='content'
    >
      <%= form.input :content, as: :text, label: false, wrapper: false, input_html: { class: 'hidden', value: @post.revisions.current&.body } %>

      <div class='modal' id='revision-modal' data-target='chu-editor.revisionsModal'>
        <div class="modal-box">
          <h4>Commit changes</h4>
          <%= form.input :message %>

          <div class="modal-action">
            <%= form.button :submit, 'Create', for: 'revision-modal' %>
            <%= button_to 'Cancel', '#', class: 'btn btn-error btn-sm', 'data-action': 'click:chu-editor#closeRevisionsModal', for: 'revision-modal' %>
          </div>
        </div>
      </div>
    </chu-editor>
  <% end %>
</div>
