<%= render(Card::Component.new) do |card| %>
  <% card.title do %>
    <%= defined?(card_title) ? card_title : render('shared/breadcrumbs') %>
  <% end %>

  <% card.actions do %>
    <% if @user.personal_publication %>
      <%= link_to publication_new_draft_path(@user.personal_publication) do %>
        <%= inline_svg_tag 'icons/plus.svg', class: 'fill-current w-4 h-4' %>
      <% end %>
    <% else %>
      <%= link_to 'Connect', connect_personal_publications_path, class: 'btn btn-primary btn-outline btn-sm' %>
    <% end %>
  <% end %>

  <% card.body do %>
    <% if user.personal_publication&.posts&.any? %>
      <%= render 'posts/list', posts: user.personal_publication.posts %>
    <% else %>
      <%= render 'shared/placeholder', content: 'No published posts' %>
    <% end %>
  <% end %>
<% end %>
