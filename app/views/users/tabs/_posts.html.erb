<%= render(Card::Component.new) do |card| %>
  <% card.title do %>
    <%= defined?(title) ? title : render('shared/breadcrumbs') %>
  <% end %>

  <% card.actions do %>
    <%= link_to 'New', publication_new_draft_path(@user.personal_publication), class: 'btn btn-primary btn-sm' %>
  <% end %>

  <% card.body do %>
    <% if @user.personal_publication.present? %>
      <% if user.posts.any? %>
        <%= render 'posts/list', posts: user.posts %>
      <% else %>
        <%= render 'shared/placeholder', content: 'No published posts' %>
      <% end %>
    <% else %>
      <%= render 'shared/connect_publications' %>
    <% end %>
  <% end %>
<% end %>
